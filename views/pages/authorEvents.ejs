<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>BetterReads | My Events</title>
		<%- include('../partials/head'); %>
	</head>
	<body>
		<%- include('../partials/authorNav'); %>

		<main class="flex grow flex-col px-3">
			<section class="mt-3">
				<h1 class="text-3xl font-quick px-3 text-center">
					<span class="font-dm">My Events</span>
				</h1>
				<!------- CHECK LENGTH OF EVENTS ------->
				<% if (authorEvents.length == 0) { %>
				<p class="text-center pt-3">
					It looks like you haven't made any events yet!
				</p>
				<% } %>
				<div
					class="grid gap-3 mt-3 md:grid-cols-3 md:w-full md:gap-5 lg:grid-cols-5">
					<% authorEvents.forEach((event) => { %>
					<div
						class="border-b-4 border-[#7e49ba] md:border-4 md:p-3 md:rounded-xl">
						<h1 class="text-xl font-dm mb-3"><%= event.eventTitle %></h1>
						<p class="pl-3">
							<span class="font-bold">Date:</span> <%= event.date %>
						</p>
						<p class="pl-3">
							<span class="font-bold">Time:</span> <%= event.time %>
						</p>
						<p class="pl-3">
							<span class="font-bold">Location:</span> <%= event.location %>
						</p>
						<p class="pl-3">
							<span class="font-bold">Free:</span> <%= event.isFree %>
						</p>
						<p class="pl-3">
							<span class="font-bold">Description:</span> <%= event.description
							%>
						</p>
						<!------- LINK TO UPDATE AN EVENT ------->
						<form action="/author/updateEvent/<%= event.id %>" method="get">
							<input
								type="submit"
								name="submit"
								value="Update Event"
								class="w-40 bg-textPurple text-center text-backgroundPurple rounded-full px-3 py-1 text-base mt-3 mb-3 ml-3 cursor-pointer" />
						</form>
					</div>
					<% }); %>
				</div>
			</section>

			<!------------ CREATE A NEW EVENT ------------>

			<section class="flex w-full mt-5 flex-col">
				<h1 class="text-2xl font-dm mb-1">Create a new event</h1>
				<div class="flex w-full relative px-3 flex-col items-center">
					<form
						action="/author/createEvent"
						method="post"
						name="createEvent"
						class="flex flex-col w-full gap-5">
						<!------- EVENT TITLE ------->
						<div class="flex items-center gap-3 mt-3">
							<label for="eventTitle" class="font-bold">Event Name:</label>
							<input
								type="text"
								id="eventTitle"
								name="eventTitle"
								required
								class="w-48 rounded-lg px-2 text-lg" />
						</div>
						<!------- DATE ------->
						<div class="flex items-center gap-3">
							<label for="eventDate" class="font-bold">Date:</label>
							<input
								type="text"
								id="eventDate"
								name="date"
								placeholder="MM/DD/YYYY"
								required
								class="w-48 rounded-lg px-2 text-lg" />
						</div>
						<!------- TIME ------->
						<div class="flex items-center gap-3">
							<label for="eventTime" class="font-bold">Time:</label>
							<input
								type="text"
								id="eventTime"
								name="time"
								placeholder="5:00 PM, EST"
								required
								class="w-48 rounded-lg px-2 text-lg" />
						</div>
						<!------- LOCATION ------->
						<div class="flex items-center gap-3">
							<label for="eventLocation" class="font-bold">Location:</label>
							<input
								type="text"
								id="eventLocation"
								name="location"
								placeholder="Zoom"
								required
								class="w-48 rounded-lg px-2 text-lg" />
						</div>
						<!------- PRICE ------->
						<div class="flex items-center gap-3">
							<label for="eventPrice" class="font-bold">Price:</label>
							<input
								type="text"
								id="eventPrice"
								name="price"
								placeholder="'free', '$10', etc."
								required
								class="w-48 rounded-lg px-2 text-lg" />
						</div>
						<!------- DESCRIPTION ------->
						<div class="flex gap-3 flex-col">
							<label for="eventDescription" class="font-bold"
								>Description:</label
							>
							<textarea
								name="description"
								id="eventDescription"
								required
								cols="20"
								rows="5"
								class="md:w-1/2 lg:w-1/4 rounded-lg px-2"></textarea>
						</div>
						<!------- INPUT SUBMIT ------->
						<div class="flex justify-start">
							<input
								type="submit"
								name="submit"
								value="Create Event"
								class="w-40 bg-textPurple text-center text-backgroundPurple rounded-full px-3 py-1 text-xl cursor-pointer" />
						</div>
					</form>
				</div>
			</section>
		</main>
		%> <%- include('../partials/authorFooter'); %>
	</body>
</html>
