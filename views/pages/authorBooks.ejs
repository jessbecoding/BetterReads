<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>BetterReads | My Books</title>
		<%- include('../partials/head'); %>
	</head>
	<body>
		<%- include('../partials/authorNav'); %>
		<main class="flex grow flex-col px-3">
			<section class="mt-3">
				<h1 class="text-3xl font-quick px-3 text-center">
					<span class="font-dm">My Books</span>
				</h1>
				<% if (authorBooks.length == 0) { %>
				<p class="text-center pt-3">
					It looks like you haven't added any books yet!
				</p>
				<% } %>
				<div
					class="grid gap-3 mt-3 md:grid-cols-3 md:w-full md:gap-5 lg:grid-cols-5">
					<% authorBooks.forEach((book) => { %>
					<div
						class="border-b-4 md:border-[#7e49ba] md:border-4 md:p-3 md:rounded-xl">
						<h1 class="text-xl font-dm mb-3"><%= book.title %></h1>
						<p>
							<span class="font-bold">Date Published:</span> <%=
							book.datePublished %>
						</p>
						<p>
							<span class="font-bold">Description</span> <%= book.description %>
						</p>

						<form action="/author/updateBook/<%= book.id %>" method="get">
							<input
								type="submit"
								name="submit"
								value="Update Book"
								class="w-40 bg-textPurple text-center text-backgroundPurple rounded-full px-3 py-1 text-base mt-3 mb-3" />
						</form>
					</div>
					<% }); %>
				</div>
			</section>
			<section class="flex w-full mt-5 flex-col">
				<h1 class="text-2xl font-dm mb-1">Add a new book</h1>
				<div class="flex w-full relative px-3 flex-col items-center">
					<form
						action="/author/addBook"
						method="post"
						name="addBook"
						class="flex flex-col w-full gap-5">
						<div class="flex items-center gap-3">
							<label for="bookTitle" class="font-bold">Book Title:</label>
							<input
								type="text"
								id="bookTitle"
								name="title"
								required
								class="w-36 rounded-lg text-lg mt-3" />
						</div>
						<div class="flex items-center gap-3">
							<label for="bookDate" class="font-bold">Date:</label>
							<input
								type="date"
								id="bookDate"
								name="datePublished"
								required
								class="w-40 rounded-lg px-1 text-lg" />
						</div>

						<div class="flex gap-3 flex-col">
							<label for="bookDescription" class="font-bold"
								>Description:</label
							>
							<textarea
								name="description"
								id="bookDescription"
								required
								cols="20"
								rows="5"
								class="md:w-1/2 lg:w-1/4"></textarea>
						</div>
						<div class="flex justify-start">
							<input
								type="submit"
								name="submit"
								value="Add Book"
								class="w-40 bg-textPurple text-center text-backgroundPurple rounded-full px-3 py-1 text-xl" />
						</div>
					</form>
				</div>
			</section>
		</main>
		<%- include('../partials/authorFooter'); %>
	</body>
</html>
